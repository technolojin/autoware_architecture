<?xml version="1.0"?>
<launch>
  <!-- This launch file is auto-generated by the autoware_architect -->

  <!-- Current namespace -->
  <arg name="ns" description="current namespace"/>

  <!-- External Interfaces -->
{% for input in external_inputs %}
  <arg name="input/{{ input.name }}"/>
{% endfor %}
{% for output in external_outputs %}
  <arg name="output/{{ output.name }}"/>
{% endfor %}

  <!-- Internal interfaces -->
{% for interface in internal_interfaces %}
  <let name="{{ interface.name }}" value="{{ interface.value }}"/>
{% endfor %}

{% for node in nodes %}
{% if node.is_pipeline %}
  <!-- Pipeline : {{ node.name }} -->
  <group>
    <push-ros-namespace namespace="{{ node.name }}"/>
    <include file="{{ node.launcher_file }}">
      <arg name="ns" value="$(var ns)/{{ node.name }}"/>
{% for arg in node.args %}
      <arg name="{{ arg.name }}" value="{{ arg.value }}"/>
{% endfor %}
    </include>
  </group>
{% else %}
  <!-- Module : {{ node.name }} -->
  <include file="$(find-pkg-share {{ node.package }})/launcher/{{ node.launcher_file }}">
{% for arg in node.args %}
    <arg name="{{ arg.name }}" value="{{ arg.value }}"/>
{% endfor %}
  </include>
{% endif %}

{% endfor %}
</launch>
