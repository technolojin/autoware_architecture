<?xml version="1.0"?>
<launch>
  <!-- This launch file is auto-generated by the autoware_architect -->

  <!-- Current namespace -->
  <arg name="ns" description="current namespace"/>

  <!-- External Interfaces -->
  <arg name="input/rois0"/>
  <arg name="input/rois1"/>
  <arg name="input/rois2"/>
  <arg name="input/rois3"/>
  <arg name="input/rois4"/>
  <arg name="input/rois5"/>
  <arg name="input/rois6"/>
  <arg name="input/rois7"/>
  <arg name="input/camera_info0"/>
  <arg name="input/camera_info1"/>
  <arg name="input/camera_info2"/>
  <arg name="input/camera_info3"/>
  <arg name="input/camera_info4"/>
  <arg name="input/camera_info5"/>
  <arg name="input/camera_info6"/>
  <arg name="input/camera_info7"/>
  <arg name="input/euclidean_clusters"/>
  <arg name="input/roi_clusters"/>
  <arg name="output/objects"/>

  <!-- Internal interfaces -->
  <let name="roi_cluster_fusion/input/rois0" value="$(var input/rois0)"/>
  <let name="roi_cluster_fusion/input/rois1" value="$(var input/rois1)"/>
  <let name="roi_cluster_fusion/input/rois2" value="$(var input/rois2)"/>
  <let name="roi_cluster_fusion/input/rois3" value="$(var input/rois3)"/>
  <let name="roi_cluster_fusion/input/rois4" value="$(var input/rois4)"/>
  <let name="roi_cluster_fusion/input/rois5" value="$(var input/rois5)"/>
  <let name="roi_cluster_fusion/input/rois6" value="$(var input/rois6)"/>
  <let name="roi_cluster_fusion/input/rois7" value="$(var input/rois7)"/>
  <let name="roi_cluster_fusion/input/camera_info0" value="$(var input/camera_info0)"/>
  <let name="roi_cluster_fusion/input/camera_info1" value="$(var input/camera_info1)"/>
  <let name="roi_cluster_fusion/input/camera_info2" value="$(var input/camera_info2)"/> 
  <let name="roi_cluster_fusion/input/camera_info3" value="$(var input/camera_info3)"/>
  <let name="roi_cluster_fusion/input/camera_info4" value="$(var input/camera_info4)"/>
  <let name="roi_cluster_fusion/input/camera_info5" value="$(var input/camera_info5)"/>
  <let name="roi_cluster_fusion/input/camera_info6" value="$(var input/camera_info6)"/>
  <let name="roi_cluster_fusion/input/camera_info7" value="$(var input/camera_info7)"/>
  <let name="roi_cluster_fusion/input/euclidean_clusters" value="$(var input/euclidean_clusters)"/>
  <let name="roi_cluster_fusion/output/objects" value="$(var ns)/roi_cluster_fusion/objects"/>

  <let name="low_intensity_filter/input/objects" value="$(var roi_cluster_fusion/output/objects)"/>
  <let name="low_intensity_filter/output/objects" value="$(var ns)/low_intensity_filter/objects"/>

  <let name="cluster_merger/input/objects0" value="$(var low_intensity_filter/output/objects)"/>
  <let name="cluster_merger/input/objects1" value="$(var input/roi_clusters)"/>
  <let name="cluster_merger/output/objects" value="$(var ns)/cluster_merger/objects"/>

  <let name="shape_estimator/input/objects" value="$(var cluster_merger/output/objects)"/>
  <let name="shape_estimator/output/objects" value="$(var ns)/shape_estimator/objects"/>

  <let name="detected_object_feature_remover/input/objects" value="$(var shape_estimator/output/objects)"/>
  <let name="detected_object_feature_remover/output/objects" value="$(var output/objects)"/>

  <!-- Node : roi_cluster_fusion -->
  <include file="$(find-pkg-share autoware_image_projection_based_fusion)/launcher/roi_cluster_fusion.launch.xml">
    <arg name="input/rois0" value="$(var roi_cluster_fusion/input/rois0)"/>
    <arg name="input/rois1" value="$(var roi_cluster_fusion/input/rois1)"/>
    <arg name="input/rois2" value="$(var roi_cluster_fusion/input/rois2)"/>
    <arg name="input/rois3" value="$(var roi_cluster_fusion/input/rois3)"/>
    <arg name="input/rois4" value="$(var roi_cluster_fusion/input/rois4)"/>
    <arg name="input/rois5" value="$(var roi_cluster_fusion/input/rois5)"/>
    <arg name="input/rois6" value="$(var roi_cluster_fusion/input/rois6)"/>
    <arg name="input/rois7" value="$(var roi_cluster_fusion/input/rois7)"/>
    <arg name="input/camera_info0" value="$(var roi_cluster_fusion/input/camera_info0)"/>
    <arg name="input/camera_info1" value="$(var roi_cluster_fusion/input/camera_info1)"/>
    <arg name="input/camera_info2" value="$(var roi_cluster_fusion/input/camera_info2)"/>
    <arg name="input/camera_info3" value="$(var roi_cluster_fusion/input/camera_info3)"/>
    <arg name="input/camera_info4" value="$(var roi_cluster_fusion/input/camera_info4)"/>
    <arg name="input/camera_info5" value="$(var roi_cluster_fusion/input/camera_info5)"/>
    <arg name="input/camera_info6" value="$(var roi_cluster_fusion/input/camera_info6)"/>
    <arg name="input/camera_info7" value="$(var roi_cluster_fusion/input/camera_info7)"/>
    <arg name="input/euclidean_clusters" value="$(var roi_cluster_fusion/input/euclidean_clusters)"/>
    <arg name="output/objects" value="$(var roi_cluster_fusion/output/objects)"/>
  </include>

  <!-- Node : low_intensity_filter -->
  <include file="$(find-pkg-share autoware_raindrop_cluster_filter)/launcher/low_intensity_filter.launch.xml">
    <arg name="input/objects" value="$(var low_intensity_filter/input/objects)"/>
    <arg name="output/objects" value="$(var low_intensity_filter/output/objects)"/>
  </include>

  <!-- Node : cluster_merger -->
  <include file="$(find-pkg-share autoware_cluster_merger)/launcher/cluster_merger.launch.xml">
    <arg name="input/objects0" value="$(var cluster_merger/input/objects0)"/>
    <arg name="input/objects1" value="$(var cluster_merger/input/objects1)"/>
    <arg name="output/objects" value="$(var cluster_merger/output/objects)"/>
  </include>

  <!-- Node : shape_estimator -->
  <include file="$(find-pkg-share autoware_shape_estimator)/launcher/shape_estimator.launch.xml">
    <arg name="input/objects" value="$(var shape_estimator/input/objects)"/>
    <arg name="output/objects" value="$(var shape_estimator/output/objects)"/>
  </include>

  <!-- Node : detected_object_feature_remover -->
  <include file="$(find-pkg-share autoware_perception_msgs_converter)/launcher/detected_object_feature_remover.launch.xml">
    <arg name="input/objects" value="$(var detected_object_feature_remover/input/objects)"/>
    <arg name="output/objects" value="$(var detected_object_feature_remover/output/objects)"/>
  </include>

</launch>